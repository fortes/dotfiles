#!/usr/bin/env bash
# Check to make sure things are (mostly) working correctly
#
# Usage: check_health [--help]

set -euo pipefail
IFS=$'\n\t'

usage() {
  cat <<EOF
Usage: $(basename "$0") [--help]

Checks the health of your dotfiles setup. Currently, this script is a placeholder and does not perform any checks.

Options:
  --help    Show this help message and exit
EOF
}

main() {
  while [[ $# -gt 0 ]]; do
    case "$1" in
      --help|-h)
        usage
        exit 0
        ;;
      *)
        >&2 echo -e "\e[31m× Unknown option: $1\e[0m"
        usage
        exit 1
        ;;
    esac
    shift
  done
  echo -e "\e[32m✓ All checks passed\e[0m"
  exit 0
}

if [[ "${BASH_SOURCE[0]}" == "$0" ]]; then
  main "$@"
fi
